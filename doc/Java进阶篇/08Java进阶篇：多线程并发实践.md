# Java进阶篇：多线程并发实践

**关于作者**

>郭孝星，非著名程序员，主要从事Android平台基础架构与中间件方面的工作，欢迎交流技术方面的问题，可以去我的[Github](https://github.com/guoxiaoxing)提交Issue或者发邮件至guoxiaoxingse@163.com与我联系。net/allenwells)等博客平台上。文章中如果有什么问题，欢迎发邮件与我交流，邮件可发至guoxiaoxingse@163.com。

**文章目录**

本篇文章用来分析Java中多线程并发原理与实践。

>进程（英语：process），是计算机中已运行程序的实体。在Android中进程就是一个运行的应用。

>线程（英语：thread）是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。

简单莱索，线程就是进程更加细粒度的划分，是独立调度的最小单位。

>线程安全是编程中的术语，指某个函数、函数库在多线程环境中被调用时，能够正确地处理多个线程之间的共享变量，使程序功能正确完成。


线程优先级

>线程优先级：每个线程都自己的优先级，优先级高的线程会被优先执行。

关于线程优先级

- 最小优先级MIN_PRIORITY = 1，默认优先级NORM_PRIORITY = 5，最大优先级MAX_PRIORITY = 10。
- 线程优先级具有继承性，例如线程A启动线程B，则B与A有相同的优先级。
- 优先级高的线程会被优先执行，因此，当两个线程优先级差别很大时，谁先执行完和代码的调用顺序无关，当然线程时间片的获取具有随机性，优先级高的线程未必就先执行完。


线程状态

- NEW
- RUNNABLE
- WAITING
- TIMED_WAITING
- TERMINATED


- yield()：放弃线程持有的CPU资源，将其让给其他任务去占用CPU执行时间。



>互斥锁：在Java中，每一个对象都拥有一个锁标记（monitor），也称为监视器，多线程同时访问某个对象时，线程只有获取了该对象的锁才能访问。

>synchronized：当某个线程访问被synchronized标记的方法或代码块时，这个线程便获得了该对象的锁，其他线程暂时无法访问这个方法，只有等待这个方法执行完毕或者代码块执行完毕，这个
线程才会释放该对象的锁，其他线程才能执行这个方法或代码块。

关于synchronized关键字
                                               
- synchronized代码块 ：同步代码块，作用范围是整个代码块，作用对象是调用这个代码块的对象。
- synchronized方法 ：同步方法，作用范围是整个方法，作用对象是调用这个方法的对象。
- synchronized静态方法 ：同步静态方法，作用范围是整个静态方法，作用对象是调用这个类的所有对象。
- synchronized(ClassName.class) ：全局锁，作用对象是这个类的所有对象。
- synchronized(this)：作用范围是该对象中所有被synchronized标记的变量、方法或代码块，作用对象是对象本身。

                         
                                   
- 保证了不同线程对这个变量进行操作时的可见性，即一个线程修改了某个变量的值，这新值对其他线程来说是立即可见的。
- 禁止进行指令重排序。